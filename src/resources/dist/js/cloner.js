void 0===Craft.Cloner&&(Craft.Cloner={}),function(t){Craft.Cloner=Garnish.Base.extend({$table:null,title:null,action:null,init:function(i){this.$table=t("table#"+i.id),this.title="New "+i.title+" Name",this.action="cloner/"+i.action,this.setupTable()},setupTable:function(){var i=this;this.$table.length&&(this.$table.find("thead tr").each(function(){var i=t(this).find("td.thin:first");if(i.length){var n=t('<td class="thin"></td>');i.before(n)}else t(this).append('<td class="thin"></td>')}),this.$table.find("tbody tr").each(function(){var n=t(this).find("td.thin:first"),e=t('<a class="add icon"></a>');if(n.length){var a=t('<td class="thin"></td>').html(e);n.before(a)}else{var a=t('<td class="thin"></td>').html(e);t(this).append(a)}i.addListener(e,"click","onCloneButtonClick")}))},onCloneButtonClick:function(i){i.preventDefault();var n,e=t(i.currentTarget).parents("tr").data("id"),a;if(a=prompt(this.title)){var l={id:e,name:a};Craft.postActionRequest(this.action,l,function(t){t.success&&window.location.reload()})}}})}(jQuery);
//# sourceMappingURL=cloner.js.map